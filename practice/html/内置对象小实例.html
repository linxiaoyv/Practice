<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>

  <body>
    <script>
      // Math对象：都是静态方法
      // PI：Π
      // E：e
      // abs：绝对值
      // floor：向下取整
      // ceil： 向上取整
      // max：最大值
      // min：最小值
      // random：随机数
      // pow(x,y)：x的y次幂
      // sqrt: 开方

      // 实例1：自己定义一个对象，实现Max
      function MyMath() {
        this.getMax = function() {
          // 方法1：排序 系统数组的sort方法
          // 伪数组转换伪真数组
          // var arr = [].slice.call(arguments);
          // arr.sort(
          //     function getSort(a,b){
          //         return a-b;
          //     }
          // )
          // console.log(arr);
          // return arr[arr.length-1];

          // 方法2 ：遍历比较 系统的Max方法
          var max = arguments[0];
          for (var i = 0; i < arguments.length; i++) {
            // 三元表达式比较大小
            max = max > arguments[i] ? max : arguments[i];
          }
          return max;
        };
      }

      var max = new MyMath();
      console.log(max.getMax(85, 7, 942, 46, 9426, 5892));

      // 实例2：随机生成十六进制颜色
      var arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, "a", "b", "c", "d", "e", "f"];
      function Color() {
        this.getColor = function() {
          var str = "#";
          for (var i = 0; i < 6; i++) {
            var key = parseInt(Math.random() * 16);
            str += arr[key];
          }
          return str;
        };
      }

      var color = new Color();
      console.log(color.getColor());
    </script>
    <script>
      // Date对象
      // now: 1970至今的毫秒数
      // valueOf:毫秒值
      // getFullYear: 年
      // getMonth:  月
      // getDate: 日
      // getHours: 时
      // getMinutes: 分
      // getSeconds: 秒
      // getDay: 星期
      // toDateString: 英文格式时间
      // toLocaleDateString: 数字格式时间
      // toTimeString: 时分秒
      // toLocaleTimeString: 上午（下午）时分秒

      // 封装显示指定时间
      function getDate(dt) {
        var year = dt.getFullYear();
        var month = dt.getMonth();
        var day = dt.getDate();
        var hour = dt.getHours();
        var minute = dt.getMinutes();
        var second = dt.getSeconds();
        month = month > 10 ? momth : "0" + month;
        day = day > 10 ? day : "0" + day;
        hour = hour > 10 ? hour : "0" + hour;
        minute = minute > 10 ? minute : "0" + minute;
        second = second > 10 ? second : "0" + second;

        return (
          year +
          "年" +
          month +
          "月" +
          day +
          "日" +
          " " +
          hour +
          "时" +
          minute +
          "分" +
          second +
          "秒"
        );
      }
      console.log(getDate(new Date()));
    </script>

    <script>
      // String对象
      // 字符串特性: 不可变性
      // 改变字符串改变的是指向而不是字符串本身

      // length：字符串长度
      // charAt: 根据索引找字符串，超出索引返回空字符串
      // fromCharCode: 返回ASCII码对应值
      // indexOf:("字符串","开始索引") 根据字符串找索引 找不到返回-1
      // lastIndexOf: 同上，从后往前找
      // concat: 字符串拼接,返回新字符串
      // replace: 替换
      // split:  ("删除的字符串",返回数组长度) 分割字符串 返回数组
      // slice:   ("开始索引","结束索引") 索引可以为负 [) 为负+length
      // substr:  ("开始索引",长度) 截取字符串
      // substring:   同slice  索引不能为负
      // toUpperCase: 转大写
      // toLowerCase: 转小写
      // trim: 去除字符串两端空格

      // 案例1：截取杨哥字符串
      var str2 = "dsgdfgdsgds杨哥dsfasgg";
      var key = "杨哥";
      // 获取杨哥所在索引
      var index = str2.indexOf(key);
      // 截取
      console.log(str2.substr(index, 2));

      // 案例2:找到这个字符串中所有的 o 出现的位置
      var str3 = "hello wod odd ott fbo nhyo";
      var key = "o",
        index = 0;
      while ((index = str3.indexOf(key, index)) != -1) {
        console.log(index);
        index += key.length;
      }

      // 案例3：每个字符出现次数
      // 方法一：两层循环
      var str = "hello";
      str = str.toLowerCase();
      for (var i = 0; i < str.length; i++) {
        //每个字母
        var key = str[i],
          num = 0,
          index = 0;
        while ((index = str.indexOf(key, index)) != -1) {
          //出现次数
          num++;
          index++;
        }
        console.log(key + "===" + num);
      }

      // 方法二：对象
      var str1 = "kjlfdslkdlkjgk",
        obj = {};
      str1 = str1.toLowerCase();
      for (var i = 0; i < str1.length; i++) {
        // 所有字符循环
        var key = str1[i]; //key为字符串所包含字符
        if (obj[key]) {
          //obj[key]为字符对应个数
          obj[key]++;
        } else {
          obj[key] = 1;
        }
      }
      for (key in obj) {
        console.log(key + "=====" + obj[key]);
      }

      // 案例四:英文翻译
      var obj = {
        abandonment: "n.放弃",
        abbreviation: "n.缩写",
        abeyance: "n.缓办，中止",
        abide: "v.遵守",
        ability: "n.能力",
        able: "adj.有能力的，能干的",
        abnormal: "adj.反常的，变态的",
        aboard: "adv.船(车)上",
        abolish: "v.废除，取消",
        abolition: "n.废除，取消"
      };
      // var key=prompt("请输入英文:");
      // if(key in obj){
      //   alert(obj[key]);
      // }else{
      //   alert("不存在的!!!!")
      // }

      // 案例五:火星文转换
      var arr5 = [
        "你=伱",
        "说=詤",
        "我=莪",
        "好=恏",
        "帅=帅",
        "气=气",
        "的=的",
        "杨=楊",
        "哥=哥"
      ];
      var str8 = prompt("请输入中文:"),
        obj1 = {},
        result = "";
      // 字符串截取成对象键值对形式
      arr5.forEach(function(a, b, arr) {
        var arr1 = arr[b].split("=");
        key = arr1[0];
        obj1[key] = arr1[1];
      });
      // 输入的字符串找一一对应的繁体字
      for (var i = 0; i < str8.length; i++) {
        key=str8[i];
        if(key in obj1){
          result +=obj1[key];
        }
      }
      alert(result);

    </script>
    <script>
      // Array对象

      // 判断是否为数组的两种方法：
      // 1.  instanceof
      // 2.  isArray 方法

      // isArray 静态方法
      // concat：
      // every：callback（"当前元素值","索引","原数组"）返回布尔值，如果原数组是空数组，返回true
      // filter：callback（"当前元素值","索引","原数组"）返回符合要求的新数组
      // map: callback（"当前元素值","索引","原数组"）返回执行函数后的结果组成的新数组
      // forEach: callback（"当前元素值","索引","原数组"）   遍历
      // join: 返回字符串
      // indexOf:
      // push：在数组后添加元素 返回新数组长度
      // pop： 删除数组最后一位 返回删除值 数组为空时返回undefined
      // shift： 删除数组第一位 返回删除值
      // unshift： 在数组第一个元素前添加元素 返回新数组长度
      // reverse: 反转数组
      // sort:
      // slice: 浅拷贝
      // splice:  （"索引","删除元素数","添加元素"）可修改数组中任意元素,返回删除元素生成的数组

      // reverse sort splice改变原数组 其他方法不改变原数组

      var arr = [10, 20, 60, 49, 43];
      console.log(arr instanceof Array);
      console.log(Array.isArray(arr));

      var flag = arr.every(function(a) {
        return a > 0;
      });
      console.log(flag);

      var temp = arr.filter(function(a) {
        return a < 0;
      });
      console.log(temp);

      var map = arr.map(function(a) {
        return a / 30;
      });
      console.log(map);

      console.log(arr.join("==="));
      console.log(arr);

      var map = arr.forEach(function(a) {
        console.log(a + 20);
      });

      var sort = arr.sort(function(a, b) {
        return b - a;
      });
      console.log(sort);

      console.log(arr);
      var splice = arr.splice(2, 3, 60);
      console.log(arr);

      // 案例1：将一个字符串数组输出为 | 分割的形式，比如“ 刘备 | 张飞 | 关羽 ”。使用两种方式实现
      // 方法一：
      arr1 = ["刘备", "张飞", "关羽"];
      console.log(arr1.join("|"));

      // 方法二：
      var str = arr1[0];
      for (var i = 1; i < arr1.length; i++) {
        str += "|" + arr1[i];
      }
      console.log(str);

      // 案例2：将一个字符串数组的元素的顺序进行反转。["a", "b", "c", "d"] -> ["d", "c", "b", "a"]。使用两种种方式实现。提示：第i个和第length - i - 1个进行交换
      // 方法一：
      arr2 = ["a", "b", "c", "d", "e", "f"];
      console.log(arr2.reverse());

      // 方法二：
      for (var i = 0; i < arr2.length / 2; i++) {
        var temp = arr2[i];
        arr2[i] = arr2[arr2.length - 1 - i];
        arr2[arr2.length - 1 - i] = temp;
      }
      console.log(arr2);

      // 案例3：工资的数组[1500, 1200, 2000, 2100, 1800], 把工资超过2000的删除
      var arr3 = [1500, 1200, 2000, 2100, 1800];
      var arr3 = arr3.filter(function(a) {
        return a <= 2000;
      });
      console.log(arr3);

      // 案例4：["c", "a", "z", "a", "x", "a"]找到数组中每一个a出现的位置
      function getIndex(key, arr) {
        arr.forEach(function(a, b, arr) {
          if (key == arr[b]) {
            console.log(b);
          }
        });
      }
      getIndex("a", ["c", "a", "z", "a", "x", "a"]);

      // 案例5：编写一个方法去掉一个数组的重复元素
      function getDelete(arr) {
        // 方法一:先排序，相邻相同删除
        // var arr = arr.sort(function(a, b) {
        //   if (a < b) {
        //     // 按某种排序标准进行比较, a 小于 b
        //     return -1;
        //   }
        //   if (a > b) {
        //     return 1;
        //   }
        //   return 0;
        // });

        // arr.forEach(function(a,b,arr){
        //   while(arr[b]==arr[b+1]){
        //     arr.splice(b+1,1);
        //   }
        // })

        // var _arr = [arr[0]]; //结果数组
        // for (var i = 0; i < arr.length; i++) {
        //   if (arr[i] != _arr[_arr.length - 1]) {
        //     _arr.push(arr[i]);
        //   }
        // }

        // 方法二:遍历数组
        var _arr=[arr[0]];
        arr.forEach(function(a,b,arr){
          // 新数组没有则添加
          if(_arr.indexOf(arr[b])==-1){
            _arr.push(arr[b]);
          }
        })

        arr = _arr;
        return arr;
      }
      console.log(
        getDelete([
          "苹果",
          "山竹",
          ",",
          "香蕉",
          ",",
          "葡萄",
          "山竹",
          "山竹",
          "山竹",
          "山竹"
        ])
      );
    </script>
    <script>
      // 基本包装类型 :基本类型的变量，执行代码过程中，调用了属性或方法，类型变为基本包装类型，变量也变为基本包装类型对象（string boolean number）
    </script>
  </body>
</html>
